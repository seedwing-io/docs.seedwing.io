<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Seedwing</title>
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Seedwing</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="dogma" data-version="dev">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Dogma</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="foundational-concepts.html">Foundational Concepts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="syntax.html">General Syntax</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="primordial.html">Primordial Patterns</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Dogma</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../cli/dev/index.html">CLI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cli/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">Dogma</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../examples/dev/index.html">Examples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../examples/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../faq/dev/index.html">FAQ</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../faq/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../docs/index.html">Overview</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../docs/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../server/dev/index.html">Server</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../server/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../docs/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Dogma</a></li>
    <li><a href="foundational-concepts.html">Foundational Concepts</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/seedwing-io/seedwing-policy/edit/main/docs/dogma/modules/ROOT/pages/foundational-concepts.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_foundational_concepts"><a class="anchor" href="#_foundational_concepts"></a>Foundational Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pattern_matching"><a class="anchor" href="#_pattern_matching"></a>Pattern Matching</h3>
<div class="paragraph">
<p>In general, Seedwing treats a policy as a pattern-matching exercise.
The requester presents structured data representing what they know to the policy engine for a decision.
The engine attempts to match the provided data with a pattern that describes what shape, format or other qualities that the data should exhibit in order to be considered "in compliance".</p>
</div>
</div>
<div class="sect2">
<h3 id="_policies_patterns_functions_and_expressions"><a class="anchor" href="#_policies_patterns_functions_and_expressions"></a>Policies, Patterns, Functions and Expressions</h3>
<div class="paragraph">
<p>The core constructs of policies authored in <strong>Dogma</strong> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Patterns</p>
</li>
<li>
<p>Functions</p>
</li>
<li>
<p>Expressions</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_policies"><a class="anchor" href="#_policies"></a>Policies</h4>
<div class="paragraph">
<p>A "policy" is simply an <em>application</em> of a pattern towards a decision that results in a relatively boolean outcome.
Within Dogma, there is no actual concrete "policy" construct.</p>
</div>
<div class="paragraph">
<p>Policies are used in a variety of ways.
Simple schema-validation is a policy that defines what a compliant well-formed document should look like.
Gate-checks in the course of a software pipeline represent another policy that defines what is acceptable to progress beyond a particular point of the pipeline.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_patterns"><a class="anchor" href="#_patterns"></a>Patterns</h3>
<div class="paragraph">
<p>The base construct within Dogma is the <em>pattern</em>.</p>
</div>
<div class="paragraph">
<p>In general, a pattern describes, in varying degrees of detail, the range of acceptable inputs.</p>
</div>
<div class="paragraph">
<p>Any input that does not match the pattern is considered to not comply with the pattern.</p>
</div>
<div class="paragraph">
<p>Patterns are defined in terms of <em>values</em>, <em>functions</em>, and <em>expressions</em>.</p>
</div>
<div class="paragraph">
<p>A <em>primordial</em> pattern in Dogma defines the structure or content of valid input values.</p>
</div>
<div class="paragraph">
<p>Similar to many programming languages, general <em>primordial</em> patterns are defined, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>strings</p>
</li>
<li>
<p>integers</p>
</li>
<li>
<p>decimals</p>
</li>
<li>
<p>booleans</p>
</li>
<li>
<p>octets</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, a policy author can define new structured patterns that are object- or list-shaped, where each component is recursively defined to be of a pattern type.</p>
</div>
<div class="paragraph">
<p>When an input value is presented to a pattern, the pattern acts not unlike a function, accepting the value, and either passing it back as the output upon match, or passing along nothing if it fails to match.</p>
</div>
</div>
<div class="sect2">
<h3 id="_functions"><a class="anchor" href="#_functions"></a>Functions</h3>
<div class="paragraph">
<p>A <em>function</em> can also be considered a kind of pattern if you squint hard enough from far enough away, since they are also presented with an input value and pass along an output value if successful.
The primary difference is that functions are written in Rust, not Dogma, and they may pass along completely different values as output.</p>
</div>
<div class="paragraph">
<p>For instance, a function <a href="/policy/base64/base64">base64</a> accepts a string input, and if that input can be successfully decoded as a base64 input, the output value is <em>the decoded value</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_expressions"><a class="anchor" href="#_expressions"></a>Expressions</h3>
<div class="paragraph">
<p><em>Expression</em> constructs in Dogma may actually appear in two different contexts.</p>
</div>
<div class="sect3">
<h4 id="_pattern_expressions"><a class="anchor" href="#_pattern_expressions"></a>Pattern Expressions</h4>
<div class="paragraph">
<p><em>Pattern expressions</em> are when two or more patterns are combined using algebraic <strong><em>and</em></strong> or <strong><em>or</em></strong> operators (<code>&amp;&amp;</code> and <code>||</code>).
In the case of <code>&amp;&amp;</code>, the entire expression is only satisfied if <em>all</em> component terms are satisfied.
For <code>||</code>, the entire expression is satisified if <em>any</em> component term is satisfied.</p>
</div>
<div class="paragraph">
<p>Short-circuiting applies to <code>||</code>, as a success is a success.
Short-circuiting does not apply to <code>&amp;&amp;</code>, so that all viable failures can be detected early, instead of piece-meal.</p>
</div>
</div>
<div class="sect3">
<h4 id="_expression_patterns"><a class="anchor" href="#_expression_patterns"></a>Expression Patterns</h4>
<div class="paragraph">
<p>Confusingly, the other context of expression is <em>expression patterns</em>.
Expression patterns define a satisfiable pattern purely as an expression against the input value.
Generally these are limited to use for numeric comparisons.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
